define(["jquery","underscore","backbone"],function(t,i,e){var n=e.View.extend({events:{"click .play-time":"onPlayTimeClick"},initialize:function(){this.$title=this.$(".yt-media-title"),this.$info=this.$(".track-info"),this.listenTo(this.model,"change:title",this.render),this.listenTo(this.model,"change:id",this.renderLoading)},render:function(i,e){var n=i.get("description"),a=t("<img />").attr("src",i.get("thumbnail").hqDefault);n=n.replace(/([0-9]*[0-9]*:*[0-9]*[0-9]:[0-9][0-9])/gim,"<button class='btn btn-mini play-time' data-time='$1'>$1</button>\r","gim"),this.$title.empty().append(a.clone()).append(e),n="<em>"+e+"</em>\n"+n,this.$info.empty().append(n).append(a)},renderLoading:function(){return this.$title.html("Loading..."),this},onPlayTimeClick:function(e){var n=t(e.target),a=n.data("time"),s=i(a).hmsToSeconds();this.$info.find(".btn-info").removeClass("btn-info"),n.addClass("btn-info"),this.trigger("seek",s)}});return n});