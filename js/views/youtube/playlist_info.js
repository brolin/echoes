define(["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({initialize:function(){this.listenTo(this.model.youtube().get("playlist"),"change:items",this.render),this.listenTo(this.model,"change:currentIndex",this.updateIndex)},render:function(e,n){var r=e.get("id"),i=this.model.get("mediaOptions"),s=i?parseInt(i.index,10):0,o=t.map(n,function(e,t){var n='<li class="'+(t===s?"active":"")+" track-"+t+'"><a class="ellipsis" href="#play/playlist/'+r+"/"+t+'">'+(t+1)+". "+e.video.title+"</a></li>";return n});this.$el.html(o.join(""))},updateIndex:function(e,t){this.$el.find(".active").removeClass("active").end().find(".track-"+t).addClass("active")}});return r});