define(["jquery","underscore","backbone","text!templates/youtube_playlist_list_item.html"],function(e,t,i,n){var s=i.View.extend({tagName:"li",events:{"click a .remove":function(e){e.preventDefault(),e.stopPropagation(),this.trigger("remove",this.model)},"click a":function(e){e.preventDefault(),this.model.set("adding",!0,{silent:!0}),this.render(),this.model.trigger("change:adding",this.model)}},initialize:function(){this.model.set("adding",!1,{silent:!0})},template:t.template(n),render:function(){var e=this.model.attributes,t=this.model.toJSON().snippet;return t.size=e.contentDetails.itemCount,t.id=e.id,t.adding=e.adding,t.message="",this.$el.html(this.template(t)),this}}),o=i.View.extend({view:{type:s,events:{remove:"onRemovePlaylist"}},initialize:function(){this.listenTo(this.collection,"change:adding",this.onAdd)},onRemovePlaylist:function(e){this.trigger("remove",e)},onAdd:function(e){e.get("adding")&&this.trigger("adding",e.id)},reset:function(){this.collection.each(function(e){e.set("message","",{silent:!0})})}});return o});