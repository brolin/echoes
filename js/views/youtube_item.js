define(["jquery","underscore","backbone","text!templates/youtube_item.html"],function(e,t,i,o){var l=i.View.extend({tagName:"li",className:"youtube-item card span3 nicer-ux ux-maker",events:{"click .media-thumb":"selectMedia","click .media-desc":"toggleInformation","click .add-to-playlist":"addToPlaylist","click .favorite-media":"toggleFavorite","click .close":"toggleInformation"},template:t.template(o),initialize:function(){this.listen()},listen:function(){this.listenTo(this.model,"change:isPlaying",this.render),this.listenTo(this.model,"change:isFavorite",this.render)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this},selectMedia:function(e){e.preventDefault(),this.model.set("isPlaying",!0),this.trigger("play-media",this.model)},toggleInformation:function(e){e.stopPropagation(),this.$el.toggleClass("show-description")},addToPlaylist:function(e){e.preventDefault(),i.trigger("app:add-to-playlist",this.model.toJSON())},toggleFavorite:function(e){var t=this.model.get("isFavorite");e.preventDefault(),console.log("favorited video",this.model.toJSON()),this.model.set("isFavorite",!t)}});return l});