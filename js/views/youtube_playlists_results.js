define(["jquery","underscore","backbone","views/youtube_playlist_item","collections/youtube_playlists_results"],function(t,e,i,s,o){var l=i.View.extend({tagName:"ul",className:"clearfix unstyled ux-maker playlists-result",view:{type:s,collection:o},transition:{duration:200,css:"transition-in"},initialize:function(){this.model.youtube.set({data:[]}),this.listenTo(this.model.youtube,"change:data",this.updateCollection),this.listenTo(this.model.youtube,"change:query change:preset",this.reset),this.listenTo(this.collection,"change:isPlaying",this.updateState),this.listenTo(i,"app:load-more",this.handleLoadMore),this.$el.addClass("transition-out"),this.model.youtube.set("feedType","playlists"),this.model.youtube.set({startIndex:1}),this.model.youtube.fetch()},handleLoadMore:function(){this.model.youtube.fetchNext()},reset:function(){this.collection.reset()},updateCollection:function(t,e){e&&(this.$el.hide(),this.collection.add(e.items),this.$el.show().addClass("transition-in").removeClass("transition-out"))},updateState:function(t,e){e&&this.collection.savePlayed(t)}});return l});