define(["jquery","jqueryui","underscore","backbone"],function(e,t,n,r){var i=r.View.extend({el:"#media-explorer",events:{submit:"querySearch"},initialize:function(){this.model.on("change:query",this.render,this),this.$search=this.$el.find("input"),this.render(this.model),this.activateAutoComplete()},render:function(e,t){return t=t||this.model.get("query"),this.$search.val(t),this},querySearch:function(e){e.preventDefault(),this.model.set({query:this.$search.val()}),this.$search.autocomplete("close")},activateAutoComplete:function(){this.$search.autocomplete({source:function(t,n){e.ajax({url:"http://suggestqueries.google.com/complete/search",dataType:"jsonp",data:{hl:"en",ds:"yt",oi:"spell",spell:"1",json:"t",client:"youtube",q:t.term},success:function(e){n(e[1])}})},minLength:2,select:n.bind(function(e,t){var n=t.item?t.item.value:!1;n&&this.model.set({query:n})},this)})}});return i});