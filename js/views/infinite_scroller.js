define(["jquery","underscore","backbone"],function(i,t,e){var o=e.View.extend({initialize:function(){this.listenTo(this.model.youtube,"request",function(){this.isInRequest=!0}),this.listenTo(this.model.youtube,"sync",function(){this.isInRequest=!1}),this.listenToScroll()},listenToScroll:function(){i(window).scroll(t.bind(this.loadNextForBody,this))},loadNext:function(){if(!this.isInRequest){var i=this.$el.scrollTop(),t=this.$(".row-fluid").height(),e=this.$el.height(),o=.4*e;i>=t-e-o&&this.model.youtube.fetchNext()}},loadNextForBody:function(){if(!this.isInRequest){var t=this.$(".row-fluid").height(),o=i("body").scrollTop(),n=window.innerHeight,s=.4*n;return o>=t-n-s?void e.trigger("app:load-more",!0):void 0}}});return o});