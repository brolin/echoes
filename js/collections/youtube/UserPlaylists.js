define(["backbone","models/youtube/YoutubePlaylistItemsService","models/youtube/PlaylistsService","models/youtube/playlist-items"],function(t,e,i,s){var r=t.Collection.extend({model:e,factory:new i,provider:new i({fetchAll:!0}),updater:new s,initialize:function(){this.listenTo(this.provider,"change:items",this.updateItems),this.listenTo(this.updater,"change:result",this.addResource)},comparator:function(t){return t.attributes.snippet.title.toLowerCase()},insert:function(t,e){this.updater.insert(t,e)},create:function(t){this.factory.get("resource").snippet.title=t.title,this.factory.create(),this.factory.set(this.factory.defaults,{silent:!0})},list:function(){this.provider.fetch()},updateItems:function(t,e){e&&this.set(e),this.trigger("update",e)},addResource:function(t){this.trigger("added",t)}});return r});