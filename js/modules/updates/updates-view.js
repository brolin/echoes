define(["jquery","underscore","backbone","text!./updates-message.html"],function(e,t,n,i){var s=n.View.extend({el:"#notification",events:{"click .btn-primary":function(){location.reload()},"click .dismiss":function(){this.model.updates.set({version:""},{silent:!0})}},initialize:function(){this.listenTo(this.model.updates,"change:version",function(e){var t=e.toJSON();t.title="New Update Is Available",t.description="These are the changes and updates for the new release:<br>"+t.description,this.render(t)}),this.listenTo(this.model.updates,"sync",function(e){var n=e.toJSON();n.title="Update Check Is Done",n.description="no update for now.\nPlease check in later.",e.attributes.manualCheck===!0&&t.isEmpty(e.changed)&&this.render(n)})},render:function(e){var n=t.template(i,e);return this.$el.html(n),this.$el.modal("show"),this}});return{create:function(e){return new s({model:e})}}});