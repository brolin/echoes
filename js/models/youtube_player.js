define(["underscore","backbone"],function(e,t){var n=t.Model.extend({defaults:{options:null,mediaId:"",nowPlayingId:"",type:"",index:0,size:{width:300,height:270},fullScreen:!1},initialize:function(){this.set("nowPlayingId",null),this.set("mediaId",null)},setOptions:function(e){e.type==="playlist"&&this.validateIndex(e),this.set(e)},validateIndex:function(t){var n=t.index;e.isNumber(n)||(t.index=n=parseInt(n,10)),t.index=n<0?0:n},getPlaylistId:function(){return this.get("mediaId")},getPlaylistCurrentIndex:function(){return this.get("index")},isCurrentPlaylist:function(){return this.get("type")==="playlist"},toggleFullScreen:function(){this.set("fullScreen",!this.get("fullScreen"))},getSize:function(){return this.get("fullScreen")?this.defaults.size:e(["sidebar"]).getPortviewSize()}});return n});