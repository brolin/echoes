define(["underscore","backbone","../gapi"],function(t,e,i){var n=i.extend({url:function(){return gapi.client.youtube.channels},scopes:"https://www.googleapis.com/auth/youtube",immediate:!0,client:{api:"youtube",version:"v3"},initialize:function(){this.listenTo(this,"load:client",this.getProfile),this.listenTo(this,"change:items",this.onProfileChange)},onProfileChange:function(){var t={};this.attributes.items&&this.attributes.items.length&&(t=this.attributes.items[0].contentDetails.relatedPlaylists,t&&this.trigger("loaded",t))},getProfile:function(){this.fetch()},methods:{list:{part:"snippet,contentDetails",mine:!0}},defaults:{},getFavoritesId:function(){var t=this.get("items");return t?t[0].contentDetails.relatedPlaylists.favorites:""},picture:function(t){var e=this.get("items"),i=e.length?e[0].snippet.thumbnails:{},n="";return i&&(n=i[t]?i[t].url:i.default.url),n},title:function(){var t=this.get("items");return t.length?t[0].snippet.title:""},isSignedIn:function(){var t=gapi.auth.getToken(),e=!1;return t&&(e=t.status&&t.status.google_logged_in),e}});return n});